# UAV-5/UAV-Water Dataset

The dataset is based on UAV videos of two floods in the United States. For copyright reasons, the video frames are not included in this repository and can be downloaded from YouTube using the links below:

- [Florida](https://www.youtube.com/watch?v=VF1CMbPlmPo)
- [Texas](https://www.youtube.com/watch?v=SybD-lXqYR8)

## Labels

The segmentation labels can be found in the `masks/` and `masks_color/` folder for the grayscale and color masks respectively. The relationship between the labels and the video frames are described in the file [dataset.csv](list/all/dataset.csv):
- `label_path` is the relative path to the label file in grayscale. 
- `video_segment` is the continuous segment of the video where the label is present.
- `label_id` refers to an id for the label in the continuous video segment.
- `video` is the video file (either `florida` or `texas`).
- `frame_id` is the number of the frame in the video (starting at 0).
- `timecode` is the timecode of the frame in the video.
- `frame_path` is the relative path to the frame file, which can be generated by following the instructions below.

## Usage

In order to download and encode the videos and extract all frames and block motion vectors, the following commands can be used:

```bash
pipenv install motion-vector-extractor pandas yt-dlp
./generate_dataset.sh
```

The files in the `list/all/` folder can be reproduced with `python3 make_flow.py`.